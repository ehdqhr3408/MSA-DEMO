---
id: "order-service-route"
uri: "lb://order-service"
predicates:
- "Path=/orders/**"
filters:
- name: "PreLoggingFilter"
  args:
    baseMessage: "order-service-route-request"
    preLogger: true
    order: 0
- name: "CircuitBreaker"
  args:
    name: "order-service-routeCircuitBreaker"
- name: "Retry"
  args:
    methods: "GET,POST"
    backoff:
      basedOnPreviousValue: false
      firstBackoff: "50ms"
      factor: 2
      maxBackoff: "500ms"
    statuses: "BAD_GATEWAY,SERVICE_UNAVAILABLE,NOT_FOUND"
    retries: 3
- name: "PostLoggingFilter"
  args:
    baseMessage: "order-service-route-response"
    order: 100
    postLogger: true
metadata:
  group: "default"
  description: "Order service route"
